TODO:

ATTEBTION: pattern input pat
## C2:
  - OK, tester sur d'autres exemples quand même

## C1:
  - régler les problèmes suivant:
 [A] problème des let qui failent

 [B] alignement des nonces:
 CA ne suffit pas de push au max les nonces (avec l'option monenew). Il faut faire ça:

   1. on pousse les nonces droite au max mais quand même au dessus des let qui renvoient un nonce en cas de fail
   2. on regarde quel est le message associé à gauche et on prend S la liste des variables qui s'y retrouvent
      En général S=tous les précédent inputs et dans ce cas il n'y a rien à faire mais sinon alors:
   3. on fait dépendre le nonce droit des variables S


OPTIONS (mais pas utile finalement):
set movenew = true.
set rejectChoiceTrueFalse = true.
set rejectNoSimplif = true.


Parsing dans pitsyntax.ml (compressé)

[ let parse filename = 
    lexbuf.Lexing.lex_curr_p <- { lexbuf.Lexing.lex_curr_p with 
    let ptree =   Pitparser.all Pitlexer.token lexbuf  in
    ptree ]

Type de retour: Pitptree.tdecl list * Pitptree.tprocess * Pitptree.tprocess option

Quand on fait: [let p0, second_p0 = Pitsyntax.parse_file s in]
Les tdecl list sont ajoutés à la théorie 
    - tous les noms sont ajoutés; (Terms.re9cord_id nom parsing_info)
    - toute la théorie équationnelle est instanciée (avec le iter check_one x (c'est moche!!))
    - tout est global dans des ref/Hashtbl etc. définis dans pitsyntax.ml (erf)




## QUERY & EVENTS:
dans pitsyntax.ml: let query_list = ref ([] : (envdecl * tquery list) list)
                   let event_fun_table = Hashtbl.create 7

Exemple de création du symbole de l'event dans pitsyntax.ml l.1510:
  let r = { f_name = name;
	    f_type = tyarg, Param.event_type;
	    f_cat = Eq[];
	    f_initial_cat = Eq[];
	    f_private = true;
	    f_options = 0 }




######### RESULTATS EXP
## PACE:
Alors j'obtiens autant de queries true que celles dans ./transfo.
- à voir les cannot mais je vois déjà qu'il y en a une à cause du dec/enc en réduction
  ("attaque" que j'avais découverte)


## Passport
-> full_passport_eq: tout est OK, les 6 queries sont prouvées automatiquement :)
